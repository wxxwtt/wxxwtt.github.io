webpackJsonp([7],{"8COD":function(t,e){},DQey:function(t,e,a){"use strict";a.d(e,"a",function(){return l}),a.d(e,"c",function(){return c}),a.d(e,"b",function(){return d}),a.d(e,"d",function(){return m});var n=a("woOf"),s=a.n(n),i=a("vLgD"),u=a("Dod7"),r=a("mw3O"),o=a.n(r),l=function(t){return Object(i.a)({method:"post",url:u.a,data:o.a.stringify(s()(Object(u.c)(),t))})},c=function(t){return Object(i.a)({method:"post",url:u.a,data:o.a.stringify(s()(Object(u.c)(),t))})},d=function(t){return Object(i.a)({method:"post",url:u.a,data:o.a.stringify(s()(Object(u.c)(),t))})},m=function(t){return Object(i.a)({method:"post",url:u.a,data:o.a.stringify(s()(Object(u.c)(),t))})}},N9L9:function(t,e){},NfgD:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=a("QstE"),i=a("bOdI"),u=a.n(i),r=(a("n90r"),a("dJne")),o=(a("iQ6B"),a("H6W6")),l=a("pIqd"),c=a.n(l),d=a("oqQY"),m=a.n(d),f={name:"TimeDropDownMenu",data:function(){return{customTimeStatus:!1,seletedTimeStatus:{text:"本月",value:1},approvalType:"",inventoryStatus:0,timeNear1:[m()().startOf("month").format("YYYY-MM-DD"),m()().format("YYYY-MM-DD")],timeNear2:[m()().subtract(3,"month").format("YYYY-MM-DD"),m()().format("YYYY-MM-DD")],timeNear3:[m()().startOf("year").format("YYYY-MM-DD"),m()().format("YYYY-MM-DD")]}},props:{timeOptions:{type:Array,default:function(){return[]}},statusOptions:{type:Array,default:function(){return[]}},defaultStatus:{default:function(){return{text:"按销额",value:"1"}}}},components:(n={},u()(n,o.a.name,o.a),u()(n,r.a.name,r.a),u()(n,"Calendar",c.a.calendar),n),computed:{},watch:{},methods:{handleTimeChange:function(t){this.seletedTimeStatus=t,this.$refs.timeDropdown.toggle(),1===this.seletedTimeStatus.value?this.$emit("handleTime",this.timeNear1):2===this.seletedTimeStatus.value?this.$emit("handleTime",this.timeNear2):3===this.seletedTimeStatus.value?this.$emit("handleTime",this.timeNear3):4===this.seletedTimeStatus.value?this.customTimeStatus=!0:this.customTimeStatus=!1},timeChange:function(t){if(2===t.length){this.customTimeStatus=!1;var e=t.map(function(t){return t.format("YYYY-MM-DD")});this.$emit("handleTime",e)}},handleStatus:function(t){var e=this.statusOptions.find(function(e){return e.value==t});this.$emit("handleStatus",e)}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"drop-menu"},[a("van-dropdown-menu",[t.timeOptions.length?a("van-dropdown-item",{ref:"timeDropdown",attrs:{title:t.seletedTimeStatus.text}},t._l(t.timeOptions,function(e){return a("div",{key:e.value,staticClass:"time-item",on:{click:function(a){return t.handleTimeChange(e)}}},[a("div",{class:{title:!0,active:e.value==t.seletedTimeStatus.value}},[t._v(t._s(e.text))]),t._v(" "),e.value==t.seletedTimeStatus.value?a("div",{staticClass:"selected-time van-icon van-icon-success van-dropdown-item__icon"}):t._e()])}),0):t._e(),t._v(" "),t.statusOptions.length?a("van-dropdown-item",{attrs:{value:t.defaultStatus.value,options:t.statusOptions,title:t.defaultStatus.text},on:{change:t.handleStatus}}):t._e()],1),t._v(" "),a("calendar",{attrs:{show:t.customTimeStatus,mode:"during"},on:{"update:show":function(e){t.customTimeStatus=e},change:t.timeChange}})],1)},staticRenderFns:[]};var v=a("VU/8")(f,h,!1,function(t){a("hYAn")},"data-v-511ce489",null).exports,p=a("Xxa5"),_=a.n(p),g=a("Gu7T"),y=a.n(g),S=a("exGp"),Y=a.n(S),T=(a("OWWB"),a("1fWZ")),D=(a("9++/"),a("QhyB")),O={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"slot-container"},[this._t("default")],2)])},staticRenderFns:[]};var x,b=a("VU/8")({name:"",data:function(){return{}},components:{},methods:{}},O,!1,function(t){a("8COD")},"data-v-08135676",null).exports,C=a("Dod7"),M=a("DQey"),w={name:"",data:function(){return{list:[],loading:!1,finished:!1,query:null,page:1,pagesize:10}},components:(x={},u()(x,D.a.name,D.a),u()(x,T.a.name,T.a),u()(x,"ListSlot",b),x),props:{defaultTime:{type:Array},defaultStatus:{type:Object},search:{type:String}},created:function(){var t=this.$route.query;document.title=t.title,this.query=t},methods:{onLoad:function(){var t=this;return Y()(_.a.mark(function e(){var a,n,s,i,u,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(C.b)(),a=t.$route.query.type,console.log(a),n="sales_inquiry",2==a&&(n="sales_complete"),s={flag:n,page:t.page,pagesize:t.pagesize,search:t.search,start_time:t.defaultTime[0],end_time:t.defaultTime[1],type:t.defaultStatus.value},e.next=9,Object(M.d)(s);case 9:i=e.sent,"SUCC"===(u=i.data).recode&&((r=t.list).push.apply(r,y()(u.data)),t.loading=!1),u.data.length||(t.finished=!0),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),t.loading=!1,t.finished=!0,console.log(e.t0);case 20:case"end":return e.stop()}},e,t,[[0,15]])}))()},goDetail:function(){this.$router.push({name:"viewStoreDetail",params:{id:1}})}}},$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,function(e){return a("van-cell",{key:e.id,attrs:{"is-link":"",center:""},on:{click:t.goDetail}},[[a("div",[a("h6",{staticClass:"storename"},[t._v(t._s(e.store_name))]),t._v(" "),1==t.query.type?a("p",{staticClass:"coding"},[t._v("编码："+t._s(e.store_number))]):t._e(),t._v(" "),2==t.query.type?a("p",{staticClass:"coding"},[t._v("目标额：¥"+t._s(e.target))]):t._e(),t._v(" "),1==t.query.type?a("div",{staticClass:"sales"},[a("p",[t._v("\n              销售额：\n              "),a("span",{staticClass:"sum"},[t._v("¥"+t._s(e.amount))])]),t._v(" "),a("p",[t._v("\n              销量：\n              "),a("span",{staticClass:"number"},[t._v(t._s(e.number))])])]):t._e(),t._v(" "),2==t.query.type?a("div",{staticClass:"sales"},[a("p",[t._v("\n              销售额：\n              "),a("span",{staticClass:"number"},[t._v("¥"+t._s(e.amount))])]),t._v(" "),a("p",[t._v("\n              完成率：\n              "),a("span",{staticClass:"sum"},[t._v(t._s(e.rate))])])]):t._e()])]],2)}),1)],1)},staticRenderFns:[]};var j=a("VU/8")(w,$,!1,function(t){a("N9L9")},"data-v-51ac7a38",null).exports,q={name:"",data:function(){return{value:"",timeOptions:[{text:"本月",value:1},{text:"近三月",value:2},{text:"本年",value:3},{text:"自定义",value:4}],statusOptions:[{text:"由高到低",value:"1"},{text:"由低到高",value:"2"}],defaultTime:[m()().startOf("month").format("YYYY-MM-DD"),m()().format("YYYY-MM-DD")],defaultStatus:{text:"按销额",value:"1"}}},components:{Search:s.a,List:j,TimeDropDown:v},methods:{setStatusByType:function(){2==this.$route.query.type&&(this.defaultStatus.text="按完成率")},handleStatus:function(t){this.defaultStatus=t},handleSearch:function(t){this.value=t},handleTime:function(t){console.log(t),this.defaultTime=t}}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("search",{attrs:{placeholder:"输入门店名称、门店编码进行查询"}}),t._v(" "),a("time-drop-down",{attrs:{timeOptions:t.timeOptions,statusOptions:t.statusOptions,defaultStatus:t.defaultStatus},on:{handleStatus:t.handleStatus,handleTime:t.handleTime}}),t._v(" "),a("list",{attrs:{defaultTime:t.defaultTime,defaultStatus:t.defaultStatus,search:t.value}})],1)},staticRenderFns:[]};var N=a("VU/8")(q,k,!1,function(t){a("XhT+")},"data-v-523a9cd9",null);e.default=N.exports},"XhT+":function(t,e){},hYAn:function(t,e){}});