webpackJsonp([12],{"63hF":function(t,e){},UZ0P:function(t,e,a){"use strict";a.d(e,"c",function(){return c}),a.d(e,"b",function(){return o}),a.d(e,"a",function(){return d}),a.d(e,"d",function(){return p});var s=a("woOf"),n=a.n(s),i=a("vLgD"),r=a("mw3O"),l=a.n(r),u=a("Dod7"),c=function(t){return Object(i.a)({method:"POST",url:u.a,data:l.a.stringify(n()(Object(u.c)(),t))})},o=function(t){return Object(i.a)({method:"POST",url:u.a,data:l.a.stringify(n()(Object(u.c)(),t))})},d=function(t){return Object(i.a)({method:"POST",url:u.a,data:l.a.stringify(n()(Object(u.c)(),t))})},p=function(t){return Object(i.a)({method:"POST",url:u.a,data:l.a.stringify(n()(Object(u.c)(),t))})}},afLN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=a("QstE"),i=a("cMj/"),r=a("Xxa5"),l=a.n(r),u=a("Gu7T"),c=a.n(u),o=a("exGp"),d=a.n(o),p=a("bOdI"),v=a.n(p),f=(a("OWWB"),a("1fWZ")),h=(a("9++/"),a("QhyB")),_=a("cdZ3"),m=a("UZ0P"),y=a("Dod7"),O={name:"orderlist",data:function(){return{list:[],loading:!1,finished:!1}},props:{search:{type:String},timeInterval:{type:Array},type:{},status:{}},components:(s={OrderList:_.a},v()(s,h.a.name,h.a),v()(s,f.a.name,f.a),s),created:function(){},watch:{search:function(){this.page=1,this.list=[],this._getOrderList()},timeInterval:function(){this.page=1,this.list=[],this._getOrderList()},type:function(){this.page=1,this.list=[],this._getOrderList()},status:function(){this.page=1,this.list=[],this._getOrderList()}},methods:{_getOrderList:function(){var t=this;return d()(l.a.mark(function e(){var a,s,n,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(y.b)(),a={flag:"approval",search:t.search,status:t.status,type:t.type,page:t.page,pagesize:t.pagesize,start_time:t.timeInterval[0],end_time:t.timeInterval[1]},e.next=5,Object(m.c)(a);case 5:s=e.sent,"SUCC"===(n=s.data).recode&&(t.page++,(i=t.list).push.apply(i,c()(n.data))),t.loading=!1,n.data.length||(t.finished=!0),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),t.loading=!1,t.finished=!0,console.log(e.t0);case 17:case"end":return e.stop()}},e,t,[[0,12]])}))()},goDetail:function(t,e){this.$router.push({name:"approvalDetail",params:{id:t},query:{type:e}})}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("order-list",[a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t._getOrderList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,function(e){return a("van-cell",{key:e.id,on:{click:function(a){return t.goDetail(e.id,e.type)}}},[a("p",{staticClass:"date"},[t._v(t._s(e.datetime))]),t._v(" "),a("div",{staticClass:"order-list"},[a("van-cell",{attrs:{"is-link":"",center:""}},[a("div",{staticClass:"order-item"},[a("p",{staticClass:"order-number"},[1==e.type?a("span",{staticClass:"title"},[t._v(t._s(e.username)+"的采购订单")]):t._e(),t._v(" "),2==e.type?a("span",{staticClass:"title"},[t._v(t._s(e.username)+"的盘点订单")]):t._e(),t._v(" "),3==e.type?a("span",{staticClass:"title"},[t._v(t._s(e.username)+"的退货订单")]):t._e(),t._v(" "),2==e.status?a("span",{staticClass:"state"},[t._v("待处理")]):t._e(),t._v(" "),3==e.status?a("span",{staticClass:"state state-reject"},[t._v("被拒绝")]):t._e(),t._v(" "),4==e.status?a("span",{staticClass:"state state-agree"},[t._v("已同意")]):t._e(),t._v(" "),5==e.status?a("span",{staticClass:"state state-agree"},[t._v("抄送我")]):t._e()]),t._v(" "),a("p",[a("span",{staticClass:"title"},[t._v("采购门店:")]),t._v("\n                "+t._s(e.store)+"\n              ")]),t._v(" "),a("p",[a("span",{staticClass:"title"},[t._v("采购人员:")]),t._v("\n                "+t._s(e.username)+"\n              ")]),t._v(" "),a("p",{staticClass:"product"},[a("span",{staticClass:"title"},[t._v("采购产品:")]),t._v("\n                "+t._s(e.product)+"\n              ")])])])],1)])}),1)],1)],1)},staticRenderFns:[]};var x=a("VU/8")(O,g,!1,function(t){a("63hF")},"data-v-e8b52a4c",null).exports,b=a("oqQY"),C=a.n(b),S={name:"",data:function(){return{search:"",timeInterval:[C()().format("YYYY-MM-DD"),C()().subtract(29,"day").format("YYYY-MM-DD")],timeOptions:[{text:"近30天",value:0},{text:"近7天",value:1},{text:"自定义",value:2}],defaultStatus:{text:"状态",value:"2"},statusOptions:[{text:"全部",value:"1"},{text:"待处理",value:"2"},{text:"被拒绝",value:"3"},{text:"已同意",value:"4"},{text:"抄送我",value:"5"}],defaultType:{text:"类型",value:""},typeOptions:[{text:"全部",value:""},{text:"订单审批",value:1},{text:"盘点审批",value:2},{text:"退大库审批",value:3}]}},components:{Search:n.a,JyDropDownMenu:i.a,List:x},created:function(){},methods:{handleSearch:function(t){this.search=t},handleTimeInterval:function(t){this.timeInterval=t},handleType:function(t){this.defaultType=t},handleStatus:function(t){this.defaultStatus=t}}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("search",{on:{handleSearch:t.handleSearch}}),t._v(" "),a("jy-drop-down-menu",{attrs:{statusOptions:t.statusOptions,timeOptions:t.timeOptions,defaultStatus:t.defaultStatus,typeOptions:t.typeOptions,defaultType:t.defaultType},on:{handleTimeInterval:t.handleTimeInterval,handleType:t.handleType,handleStatus:t.handleStatus}}),t._v(" "),a("list",{attrs:{search:t.search,timeInterval:t.timeInterval,type:t.defaultType.value,status:t.defaultStatus.value}})],1)},staticRenderFns:[]};var j=a("VU/8")(S,T,!1,function(t){a("taIa")},"data-v-8ab163e0",null);e.default=j.exports},taIa:function(t,e){}});